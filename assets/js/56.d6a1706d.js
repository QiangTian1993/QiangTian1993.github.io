(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{516:function(s,o,e){"use strict";e.r(o);var t=e(1),a=Object(t.a)({},(function(){var s=this,o=s.$createElement,e=s._self._c||o;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"cookie-与-session"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie-与-session"}},[s._v("#")]),s._v(" Cookie 与 Session")]),s._v(" "),e("h2",{attrs:{id:"cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[s._v("#")]),s._v(" Cookie")]),s._v(" "),e("h3",{attrs:{id:"什么是-cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是-cookie"}},[s._v("#")]),s._v(" 什么是 Cookie")]),s._v(" "),e("blockquote",[e("p",[s._v("Cookie 是服务器保存在客户端的一段文本信息,一般不会超过 4kb")])]),s._v(" "),e("ol",[e("li",[s._v("服务器通过 Set-Cookie 头给客户端一段字符串")]),s._v(" "),e("li",[s._v("客户端每次访问相同域名的网页时，必须带上这段字符串")]),s._v(" "),e("li",[s._v("客户端要在一段时间内保存这个 Cookie")]),s._v(" "),e("li",[s._v("Cookie 默认在用户关闭页面后就会失效，但是后端可以任意设置 Cookie 的有效时间")])]),s._v(" "),e("h3",{attrs:{id:"如何设置-cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何设置-cookie"}},[s._v("#")]),s._v(" 如何设置 Cookie")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[s._v("Set"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Cookie"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("cookie名"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("cookie值"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" Max"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Age"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("99999")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" Domain"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("baidu"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" Path"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("docs"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("web"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" HttpOnly"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" Secure\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("Cookie 包含以下几方面信息:")]),s._v(" "),e("ul",[e("li",[s._v("Cookie 名")]),s._v(" "),e("li",[s._v("Cookie 的值（数据）")]),s._v(" "),e("li",[s._v("到期时间:\n"),e("code",[s._v("Expires=Wed, 21 Oct 2015 07:28:00 GMT")]),s._v(" 过期日期 "),e("code",[s._v("Max-age=999")]),s._v(" 存活时间")]),s._v(" "),e("li",[s._v("所属域名:\n"),e("code",[s._v("Domain=baidu.com")])]),s._v(" "),e("li",[s._v("生效的路径\n"),e("code",[s._v("Path=/docs/web/")])]),s._v(" "),e("li",[s._v("HttpOnly 属性可以让 Cookie 无法通过 js 脚本拿到")]),s._v(" "),e("li",[s._v("Secure 属性指定这段 Cookie 只能在 https 协议下才能被传送到服务端")])]),s._v(" "),e("h3",{attrs:{id:"cookie-的缺陷"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie-的缺陷"}},[s._v("#")]),s._v(" Cookie 的缺陷")]),s._v(" "),e("ul",[e("li",[s._v("因为每次请求都会发送 Cookie，所以无形中"),e("code",[s._v("增加了流量")])]),s._v(" "),e("li",[s._v("因为 HTTP 是明文传输，所以 Cookie 放在 HTTP 请求中是"),e("code",[s._v("不安全的")]),s._v("，除非用 HTTPS")]),s._v(" "),e("li",[s._v("Cookie 的大小一般只有 4kb 左右，存储"),e("code",[s._v("空间太小")]),s._v("了")])]),s._v(" "),e("h3",{attrs:{id:"cookie-的使用场合"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie-的使用场合"}},[s._v("#")]),s._v(" Cookie 的使用场合")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("对话管理")]),s._v("：保存用户登录信息、购物车等需要的信息")]),s._v(" "),e("li",[e("code",[s._v("个性化")]),s._v("：保存用户偏好，如字体大小，背景色等")]),s._v(" "),e("li",[e("code",[s._v("追踪")]),s._v("：记录分析用户行为")])]),s._v(" "),e("h2",{attrs:{id:"session"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#session"}},[s._v("#")]),s._v(" Session")]),s._v(" "),e("h3",{attrs:{id:"什么是-session"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是-session"}},[s._v("#")]),s._v(" 什么是 Session")]),s._v(" "),e("blockquote",[e("p",[s._v("Session 是存在服务器中的一个文件")])]),s._v(" "),e("ol",[e("li",[e("code",[s._v("SessionId")]),s._v("（随机数）通过 Cookie 发送给客户端")]),s._v(" "),e("li",[s._v("客户端访问服务器时，会带上这个 SessinId，服务器读取 SessionId")]),s._v(" "),e("li",[s._v("服务器上有一块内存（哈希表）保存了 保存了所有用户的信息（id、email……）")]),s._v(" "),e("li",[s._v("这块内存就是 Session")]),s._v(" "),e("li",[s._v("服务器通过 SessionID 就可以得到相对应的 Session")])]),s._v(" "),e("p",[s._v("服务器通过 Cookie 分配给用户一个 SessionId, SessionId 对应服务器里面的一小块内存，每次用户访问服务器的时候，服务器就通过 SessionId 去读取对应的 Session ，这样服务器就能知道用户的信息")]),s._v(" "),e("h2",{attrs:{id:"session-与-cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#session-与-cookie"}},[s._v("#")]),s._v(" Session 与 Cookie")]),s._v(" "),e("ul",[e("li",[s._v("一般来说 Session 是基于 Cookie 来实现的")]),s._v(" "),e("li",[s._v("Cookie 是保存在客户端的，每次发送请求都会带上 Cookie")]),s._v(" "),e("li",[s._v("Session 是保存在服务器的内存中的，其 SessionID 是通过 Cookie 发送给客户端的")])])])}),[],!1,null,null,null);o.default=a.exports}}]);